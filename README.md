# Otus_HomeWork_7


üöß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ Minikube.
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã kubectl –∏ psql.


üî® –û—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å


–®–∞–≥ 1: –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å PostgreSQL —á–µ—Ä–µ–∑ –º–∞–Ω–∏—Ñ–µ—Å—Ç

–°–æ–∑–¥–∞–π—Ç–µ Deployment –∏ Service –¥–ª—è PostgreSQL.

–£–∫–∞–∂–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Deployment (–Ω–∞–ø—Ä–∏–º–µ—Ä, POSTGRES_USER –∏ POSTGRES_PASSWORD).

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (kubectl port-forward + psql).


‚≠ê –ó–∞–¥–∞–Ω–∏–µ –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

–®–∞–≥ 2: –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å PostgreSQL —á–µ—Ä–µ–∑ Helm

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Helm.

–ù–∞–π–¥–∏—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π Helm-—á–∞—Ä—Ç PostgreSQL 14 (–Ω–∞–ø—Ä–∏–º–µ—Ä, Bitnami PostgreSQL).

–£–∫–∞–∂–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ values.yaml.

–û–±–µ—Å–ø–µ—á—å—Ç–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å: –∑–∞–¥–∞–π—Ç–µ replicaCount: 3 –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ StatefulSet, –µ—Å–ª–∏ —É–≤–µ—Ä–µ–Ω—ã.


üî• –ö—Ä–∏–∑–∏—Å–Ω—ã–π –º–æ–º–µ–Ω—Ç

12:30 ‚Äî –ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –ê–≤—Å—Ç—Ä–∞–ª–∏–∏:

"–¶–∏–∫–ª–æ–Ω —É—Å–∏–ª–∏–≤–∞–µ—Ç—Å—è! –ù—É–∂–Ω–æ –ø–µ—Ä–µ–±—Ä–æ—Å–∏—Ç—å –∑–∞–ø–∞—Å—ã –≤ –°–∏–¥–Ω–µ–π –¥–æ 15:00!"

–ê–ª–µ–∫—Å–µ–π: "–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—Å—è!"

–£–≤–µ–ª–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–æ–≤ –¥–æ 3
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–æ–¥—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ Running
üìé –ß—Ç–æ —Å–¥–∞–≤–∞—Ç—å

üì∑ –°–∫—Ä–∏–Ω—à–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ SELECT-–∑–∞–ø—Ä–æ—Å–∞ –∏–∑ PostgreSQL

üì∑ –°–∫—Ä–∏–Ω—à–æ—Ç –≤—ã–≤–æ–¥–∞ kubectl get pods
(–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å –Ω–µ –Ω—É–∂–Ω–æ!)
